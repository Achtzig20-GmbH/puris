# Running Integration Tests

The collection has two folders:
1. One folder to create a test setup and test most of the master data interfaces
2. One folder to test the created assets via catalog requests.

It creates a setup of a partner and customer that refer to the same material from the other perspective:
- The customer has the material and a material stock
- The supplier has the product and a product stock
- Both partners know each other and each other's EDC
- The setup is ready to trigger the update from customer to supplier

## Preparations
To run integration tests import the collection and the environment file to postman.
Follow the description on collection level to identify the secrets (API KEYS) you need to set in the environment 
variables. The keys are defined on folder level.

One can use the local deployment to run the integration test locally. Follow the instructions in the 
[INSTALL.md](../INSTALL.md) until the keys are generated. 
- The api keys needed by the environment can be copied from the [environment file](../.env) that is generated by the
  [generate-keys.sh](../generate-keys.sh) script.
- Adjust the properties file to run without `puris.demonstrator.role`. Find the properties files for the puris backend
of the [customer](../tractus-x-edc/config/customer/puris-backend.properties) and of the [supplier](../tractus-x-edc/config/supplier/puris-backend.properties) to set the property
`puris.demonstrator.role` to empty value.

Same settings should be used for other environments. But you also need to update other variables accordingly in the 
environment file.

## Run the integration test

You can run the integration tests on per folder level using right click > run folder.
